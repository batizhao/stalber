<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.6.xsd">

    <changeSet author="batizhao" id="CreateTableMenu-20200225-001">
        <createTable tableName="menu" remarks="权限">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="主键">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="path" type="VARCHAR(255)" remarks="路径" defaultValue="">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)" remarks="菜单名">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="permission" type="VARCHAR(64)" defaultValue="" remarks="权限名"/>
            <column name="icon" type="VARCHAR(32)" defaultValue="#" remarks="图标"/>
            <column name="type" type="CHAR(1)" defaultValue="M" remarks="类型（M菜单 B按钮）">
                <constraints nullable="false"/>
            </column>
            <column name="sort" type="INT" defaultValue="1" remarks="排序">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(255)" remarks="权限描述" defaultValue=""/>
            <column name="pid" type="BIGINT" remarks="权限父ID">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(32)" remarks="状态" defaultValue="open">
                <constraints nullable="false"/>
            </column>
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updateTime" type="datetime" remarks="修改时间" defaultValueComputed="NOW() ON UPDATE NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="menu"/>
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="CreateTableRole-20200225-002">
        <createTable tableName="role" remarks="角色">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="角色ID">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(255)" remarks="角色名称">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="code" type="VARCHAR(255)" remarks="角色编码">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="description" type="VARCHAR(255)" remarks="角色描述" defaultValue=""/>
            <column name="dataScope" type="VARCHAR(32)" remarks="数据范围（all|custom|dept|sub|oneself）" defaultValue="oneself">
                <constraints nullable="false"/>
            </column>
            <column name="status" type="VARCHAR(32)" remarks="状态" defaultValue="open">
                <constraints nullable="false"/>
            </column>
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updateTime" type="datetime" remarks="修改时间" defaultValueComputed="NOW() ON UPDATE NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="role"/>
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="CreateTableRoleMenu-20200225-003">
        <createTable tableName="role_menu" remarks="角色权限关联">
            <column name="roleId" type="BIGINT" remarks="角色ID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_ROLE_MENU"/>
            </column>
            <column name="menuId" type="BIGINT" remarks="权限ID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_ROLE_MENU"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="role_menu"/>
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="CreateTableUser-20200225-004">
        <createTable tableName="user" remarks="用户">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="用户ID">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="username" type="VARCHAR(255)" remarks="用户名">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="password" type="VARCHAR(255)" remarks="密码" defaultValue="123456">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(100)" remarks="用户邮箱">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="name" type="VARCHAR(100)" remarks="用户姓名">
                <constraints nullable="false"/>
            </column>
            <column name="sex" type="VARCHAR(32)" remarks="用户性别" defaultValue="male"/>
            <column name="mobileNumber" type="VARCHAR(20)" remarks="手机号码" defaultValue=""/>
            <column name="avatar" type="VARCHAR(255)" remarks="用户头像"
                    defaultValue="https://gw.alipayobjects.com/zos/antfincdn/XAosXuNZyF/BiazfanxmamNRoxxVxka.png"/>
            <column name="unreadCount" type="INT" remarks="未读消息数量" defaultValue="0"/>
            <column name="status" type="VARCHAR(32)" remarks="状态" defaultValue="open">
                <constraints nullable="false"/>
            </column>
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updateTime" type="datetime" remarks="修改时间" defaultValueComputed="NOW() ON UPDATE NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="user"/>
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="CreateTableUserRole-20200225-005">
        <createTable tableName="user_role" remarks="用户角色关联">
            <column name="userId" type="BIGINT" remarks="用户ID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_USER_ROLE"/>
            </column>
            <column name="roleId" type="BIGINT" remarks="角色ID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_USER_ROLE"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="user_role"/>
        </rollback>
    </changeSet>

    <changeSet author="batizhao" id="InsertTableMenu-20200225-001">
        <insert tableName="menu">
            <column name="id" valueNumeric="1000"/>
            <column name="path" value="/ims"/>
            <column name="name" value="权限管理"/>
            <column name="icon" value="ims"/>
            <column name="pid" valueNumeric="0"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1100"/>
            <column name="path" value="/ims/user"/>
            <column name="name" value="用户管理"/>
            <column name="permission" value="ims:user:admin"/>
            <column name="icon" value="user"/>
            <column name="pid" valueNumeric="1000"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1101"/>
            <column name="name" value="添加用户"/>
            <column name="permission" value="ims:user:add"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1100"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1102"/>
            <column name="name" value="编辑用户"/>
            <column name="permission" value="ims:user:edit"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1100"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1103"/>
            <column name="name" value="删除用户"/>
            <column name="permission" value="ims:user:delete"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1100"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1104"/>
            <column name="name" value="导入用户"/>
            <column name="permission" value="ims:user:import"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1100"/>
            <column name="sort" valueNumeric="4"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1105"/>
            <column name="name" value="导出用户"/>
            <column name="permission" value="ims:user:export"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1100"/>
            <column name="sort" valueNumeric="5"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1200"/>
            <column name="path" value="/ims/role"/>
            <column name="name" value="角色管理"/>
            <column name="permission" value="ims:role:admin"/>
            <column name="icon" value="role"/>
            <column name="pid" valueNumeric="1000"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1201"/>
            <column name="name" value="添加角色"/>
            <column name="permission" value="ims:role:add"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1200"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1202"/>
            <column name="name" value="编辑角色"/>
            <column name="permission" value="ims:role:edit"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1200"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1203"/>
            <column name="name" value="删除角色"/>
            <column name="permission" value="ims:role:delete"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1200"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1300"/>
            <column name="path" value="/ims/menu"/>
            <column name="name" value="菜单管理"/>
            <column name="permission" value="ims:menu:admin"/>
            <column name="icon" value="menu"/>
            <column name="pid" valueNumeric="1000"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1301"/>
            <column name="name" value="添加菜单"/>
            <column name="permission" value="ims:menu:add"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1300"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1302"/>
            <column name="name" value="编辑菜单"/>
            <column name="permission" value="ims:menu:edit"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1300"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="1303"/>
            <column name="name" value="删除菜单"/>
            <column name="permission" value="ims:menu:delete"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="1300"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2000"/>
            <column name="path" value="/system"/>
            <column name="name" value="系统管理"/>
            <column name="icon" value="system"/>
            <column name="pid" valueNumeric="0"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2100"/>
            <column name="path" value="/system/log"/>
            <column name="name" value="日志管理"/>
            <column name="permission" value="system:log:admin"/>
            <column name="icon" value="log"/>
            <column name="pid" valueNumeric="2000"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2101"/>
            <column name="name" value="删除日志"/>
            <column name="permission" value="system:log:delete"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="2100"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2102"/>
            <column name="name" value="清空日志"/>
            <column name="permission" value="system:log:clean"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="2100"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2103"/>
            <column name="name" value="导出日志"/>
            <column name="permission" value="system:log:export"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="2100"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2200"/>
            <column name="path" value="/system/dict"/>
            <column name="name" value="字典管理"/>
            <column name="permission" value="system:dict:admin"/>
            <column name="icon" value="dict"/>
            <column name="pid" valueNumeric="2000"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2201"/>
            <column name="name" value="添加字典"/>
            <column name="permission" value="system:dict:add"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="2200"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2202"/>
            <column name="name" value="编辑字典"/>
            <column name="permission" value="system:dict:edit"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="2200"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="2203"/>
            <column name="name" value="删除字典"/>
            <column name="permission" value="system:dict:delete"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="2200"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <rollback>
            delete from menu where id = 1000;
            delete from menu where id = 1100;
            delete from menu where id = 1101;
            delete from menu where id = 1102;
            delete from menu where id = 1103;
            delete from menu where id = 1104;
            delete from menu where id = 1105;
            delete from menu where id = 1200;
            delete from menu where id = 1201;
            delete from menu where id = 1202;
            delete from menu where id = 1203;
            delete from menu where id = 1300;
            delete from menu where id = 1301;
            delete from menu where id = 1302;
            delete from menu where id = 1303;
            delete from menu where id = 2000;
            delete from menu where id = 2100;
            delete from menu where id = 2101;
            delete from menu where id = 2102;
            delete from menu where id = 2103;
            delete from menu where id = 2200;
            delete from menu where id = 2201;
            delete from menu where id = 2202;
            delete from menu where id = 2203;
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="InsertTableRole-20200225-002">
        <insert tableName="role">
            <column name="id" valueNumeric="1"/>
            <column name="name" value="普通用户"/>
            <column name="code" value="ROLE_USER"/>
        </insert>
        <insert tableName="role">
            <column name="id" valueNumeric="2"/>
            <column name="name" value="系统管理员"/>
            <column name="code" value="ROLE_ADMIN"/>
            <column name="dataScope" value="all"/>
        </insert>
        <rollback>
            delete from role where id = 1;
            delete from role where id = 2;
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="InsertTableRoleMenu-20200225-003">
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1000"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1100"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1101"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1102"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1103"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1104"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1105"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1200"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1201"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1202"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1203"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1300"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1301"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1302"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="1303"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2000"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2100"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2101"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2102"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2103"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2200"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2201"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2202"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="2203"/>
        </insert>
        <rollback>
            delete from role_menu where roleId = 2 and menuId = 1000;
            delete from role_menu where roleId = 2 and menuId = 1100;
            delete from role_menu where roleId = 2 and menuId = 1101;
            delete from role_menu where roleId = 2 and menuId = 1102;
            delete from role_menu where roleId = 2 and menuId = 1103;
            delete from role_menu where roleId = 2 and menuId = 1104;
            delete from role_menu where roleId = 2 and menuId = 1105;
            delete from role_menu where roleId = 2 and menuId = 1200;
            delete from role_menu where roleId = 2 and menuId = 1201;
            delete from role_menu where roleId = 2 and menuId = 1202;
            delete from role_menu where roleId = 2 and menuId = 1203;
            delete from role_menu where roleId = 2 and menuId = 1300;
            delete from role_menu where roleId = 2 and menuId = 1301;
            delete from role_menu where roleId = 2 and menuId = 1302;
            delete from role_menu where roleId = 2 and menuId = 1303;
            delete from role_menu where roleId = 2 and menuId = 2000;
            delete from role_menu where roleId = 2 and menuId = 2100;
            delete from role_menu where roleId = 2 and menuId = 2101;
            delete from role_menu where roleId = 2 and menuId = 2102;
            delete from role_menu where roleId = 2 and menuId = 2103;
            delete from role_menu where roleId = 2 and menuId = 2200;
            delete from role_menu where roleId = 2 and menuId = 2201;
            delete from role_menu where roleId = 2 and menuId = 2202;
            delete from role_menu where roleId = 2 and menuId = 2203;
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="InsertTableUser-20200225-004">
        <insert tableName="user">
            <column name="id" valueNumeric="1"/>
            <column name="username" value="admin"/>
            <column name="password" value="$2a$10$rFoOrbWD2p.1CjBoBqTeaOUgpxFmtZknsDEvF78AsMXvsxU1AyAZu"/>
            <column name="email" value="admin@qq.com"/>
            <column name="name" value="系统管理员"/>
        </insert>
        <insert tableName="user">
            <column name="id" valueNumeric="2"/>
            <column name="username" value="tom"/>
            <column name="password" value="$2a$10$rFoOrbWD2p.1CjBoBqTeaOUgpxFmtZknsDEvF78AsMXvsxU1AyAZu"/>
            <column name="email" value="tom@qq.com"/>
            <column name="name" value="张老师"/>
        </insert>
        <insert tableName="user">
            <column name="id" valueNumeric="3"/>
            <column name="username" value="jerry"/>
            <column name="password" value="$2a$10$rFoOrbWD2p.1CjBoBqTeaOUgpxFmtZknsDEvF78AsMXvsxU1AyAZu"/>
            <column name="email" value="jerry@qq.com"/>
            <column name="name" value="李老师"/>
        </insert>
        <insert tableName="user">
            <column name="id" valueNumeric="4"/>
            <column name="username" value="john"/>
            <column name="password" value="$2a$10$rFoOrbWD2p.1CjBoBqTeaOUgpxFmtZknsDEvF78AsMXvsxU1AyAZu"/>
            <column name="email" value="john@qq.com"/>
            <column name="name" value="王约翰"/>
        </insert>
        <insert tableName="user">
            <column name="id" valueNumeric="5"/>
            <column name="username" value="bob"/>
            <column name="password" value="$2a$10$rFoOrbWD2p.1CjBoBqTeaOUgpxFmtZknsDEvF78AsMXvsxU1AyAZu"/>
            <column name="email" value="bob@qq.com"/>
            <column name="name" value="孙波波"/>
        </insert>
        <insert tableName="user">
            <column name="id" valueNumeric="6"/>
            <column name="username" value="bob2"/>
            <column name="password" value="$2a$10$rFoOrbWD2p.1CjBoBqTeaOUgpxFmtZknsDEvF78AsMXvsxU1AyAZu"/>
            <column name="email" value="bob2@qq.com"/>
            <column name="name" value="孙波波"/>
        </insert>
        <rollback>
            delete from user where id = 1;
            delete from user where id = 2;
            delete from user where id = 3;
            delete from user where id = 4;
            delete from user where id = 5;
            delete from user where id = 6;
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="InsertTableUserRole-20200225-005">
        <insert tableName="user_role">
            <column name="userId" valueNumeric="1"/>
            <column name="roleId" valueNumeric="1"/>
        </insert>
        <insert tableName="user_role">
            <column name="userId" valueNumeric="1"/>
            <column name="roleId" valueNumeric="2"/>
        </insert>
        <insert tableName="user_role">
            <column name="userId" valueNumeric="2"/>
            <column name="roleId" valueNumeric="1"/>
        </insert>
        <rollback>
            delete from user_role where roleId = 1 and userId = 1;
            delete from user_role where roleId = 2 and userId = 1;
            delete from user_role where roleId = 1 and userId = 2;
        </rollback>
    </changeSet>

    <changeSet author="batizhao" id="CreateTableOauthRefreshToken-20200305-001">
        <createTable tableName="oauth_refresh_token" remarks="Refresh Token">
            <column name="token_id" type="VARCHAR(255)" remarks="Token ID"/>
            <column name="token" type="BLOB" remarks="Token"/>
            <column name="authentication" type="BLOB" remarks="Token权限"/>
        </createTable>
        <rollback>
            <dropTable tableName="oauth_refresh_token"/>
        </rollback>
    </changeSet>

    <changeSet author="batizhao" id="InsertTableMenu-20201013-001">
        <insert tableName="menu">
            <column name="id" valueNumeric="3000"/>
            <column name="path" value="/dp"/>
            <column name="name" value="开发平台"/>
            <column name="icon" value="develop"/>
            <column name="pid" valueNumeric="0"/>
            <column name="sort" valueNumeric="4"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3100"/>
            <column name="path" value="/dp/code"/>
            <column name="name" value="代码生成"/>
            <column name="permission" value="dp:code:admin"/>
            <column name="icon" value="code"/>
            <column name="pid" valueNumeric="3000"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3101"/>
            <column name="name" value="导入"/>
            <column name="permission" value="dp:code:import"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3100"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3102"/>
            <column name="name" value="编辑"/>
            <column name="permission" value="dp:code:edit"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3100"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3103"/>
            <column name="name" value="删除"/>
            <column name="permission" value="dp:code:delete"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3100"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3104"/>
            <column name="name" value="同步"/>
            <column name="permission" value="dp:code:sync"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3100"/>
            <column name="sort" valueNumeric="4"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3105"/>
            <column name="name" value="预览"/>
            <column name="permission" value="dp:code:preview"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3100"/>
            <column name="sort" valueNumeric="5"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3106"/>
            <column name="name" value="生成"/>
            <column name="permission" value="dp:code:gen"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3100"/>
            <column name="sort" valueNumeric="6"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3200"/>
            <column name="path" value="/dp/ds"/>
            <column name="name" value="数据源"/>
            <column name="permission" value="dp:ds:admin"/>
            <column name="description" value="动态数据源"/>
            <column name="icon" value="ds"/>
            <column name="pid" valueNumeric="3000"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3201"/>
            <column name="name" value="添加数据源"/>
            <column name="permission" value="dp:ds:add"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3200"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3202"/>
            <column name="name" value="编辑数据源"/>
            <column name="permission" value="dp:ds:edit"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3200"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3203"/>
            <column name="name" value="删除数据源"/>
            <column name="permission" value="dp:ds:delete"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3200"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3300"/>
            <column name="path" value="/dp/form"/>
            <column name="name" value="表单管理"/>
            <column name="permission" value="dp:form:admin"/>
            <column name="description" value="表单管理"/>
            <column name="icon" value="form"/>
            <column name="pid" valueNumeric="3000"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3301"/>
            <column name="name" value="添加表单"/>
            <column name="permission" value="dp:form:add"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3300"/>
            <column name="sort" valueNumeric="1"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3302"/>
            <column name="name" value="编辑表单"/>
            <column name="permission" value="dp:form:edit"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3300"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="menu">
            <column name="id" valueNumeric="3303"/>
            <column name="name" value="删除表单"/>
            <column name="permission" value="dp:form:delete"/>
            <column name="type" value="B"/>
            <column name="pid" valueNumeric="3300"/>
            <column name="sort" valueNumeric="3"/>
        </insert>
        <rollback>
            delete from menu where id = 3000;
            delete from menu where id = 3100;
            delete from menu where id = 3101;
            delete from menu where id = 3102;
            delete from menu where id = 3103;
            delete from menu where id = 3104;
            delete from menu where id = 3105;
            delete from menu where id = 3106;
            delete from menu where id = 3200;
            delete from menu where id = 3201;
            delete from menu where id = 3202;
            delete from menu where id = 3203;
            delete from menu where id = 3300;
            delete from menu where id = 3301;
            delete from menu where id = 3302;
            delete from menu where id = 3303;
        </rollback>
    </changeSet>
    <changeSet author="batizhao" id="InsertTableRoleMenu-20201013-003">
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3000"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3100"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3101"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3102"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3103"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3104"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3105"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3106"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3200"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3201"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3202"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3203"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3300"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3301"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3302"/>
        </insert>
        <insert tableName="role_menu">
            <column name="roleId" valueNumeric="2"/>
            <column name="menuId" valueNumeric="3303"/>
        </insert>
        <rollback>
            delete from role_menu where roleId = 2 and menuId = 3000;
            delete from role_menu where roleId = 2 and menuId = 3100;
            delete from role_menu where roleId = 2 and menuId = 3101;
            delete from role_menu where roleId = 2 and menuId = 3102;
            delete from role_menu where roleId = 2 and menuId = 3103;
            delete from role_menu where roleId = 2 and menuId = 3104;
            delete from role_menu where roleId = 2 and menuId = 3105;
            delete from role_menu where roleId = 2 and menuId = 3106;
            delete from role_menu where roleId = 2 and menuId = 3200;
            delete from role_menu where roleId = 2 and menuId = 3201;
            delete from role_menu where roleId = 2 and menuId = 3202;
            delete from role_menu where roleId = 2 and menuId = 3203;
            delete from role_menu where roleId = 2 and menuId = 3300;
            delete from role_menu where roleId = 2 and menuId = 3301;
            delete from role_menu where roleId = 2 and menuId = 3302;
            delete from role_menu where roleId = 2 and menuId = 3303;
        </rollback>
    </changeSet>

    <changeSet author="batizhao" id="CreateTableSeataUndoLog-20201203-001">
        <createTable remarks="AT transaction mode undo table" tableName="undo_log">
            <column name="branch_id" remarks="branch transaction id" type="BIGINT(20)">
                <constraints nullable="false"/>
            </column>
            <column name="xid" remarks="global transaction id" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="context" remarks="undo_log context,such as serialization" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="rollback_info" remarks="rollback info" type="LONGBLOB">
                <constraints nullable="false"/>
            </column>
            <column name="log_status" remarks="0:normal status,1:defense status" type="INT(11)">
                <constraints nullable="false"/>
            </column>
            <column name="log_created" remarks="create datetime" type="DATETIME(6)">
                <constraints nullable="false"/>
            </column>
            <column name="log_modified" remarks="modify datetime" type="DATETIME(6)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="batizhao" id="CreateTableSeataUndoLog-20201203-002">
        <addUniqueConstraint columnNames="xid, branch_id" constraintName="ux_undo_log" tableName="undo_log"/>
    </changeSet>

    <changeSet author="batizhao" id="CreateTableRoleDepartment-20210528-001">
        <createTable tableName="role_department" remarks="角色数据权限">
            <column name="roleId" type="BIGINT" remarks="角色ID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_ROLE_DEPARTMENT"/>
            </column>
            <column name="departmentId" type="BIGINT" remarks="部门ID">
                <constraints nullable="false" primaryKey="true" primaryKeyName="PK_ROLE_DEPARTMENT"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="role_department"/>
        </rollback>
    </changeSet>

    <changeSet author="batizhao" id="CreateTableLog-20200401-001">
        <createTable tableName="log" remarks="日志">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="主键">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="httpRequestMethod" type="VARCHAR(255)" remarks="HTTP方法">
                <constraints nullable="false"/>
            </column>
            <column name="className" type="VARCHAR(255)" remarks="类名">
                <constraints nullable="false"/>
            </column>
            <column name="classMethod" type="VARCHAR(255)" remarks="类方法">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(255)" remarks="操作描述" defaultValue="" />
            <column name="parameter" type="VARCHAR(1000)" remarks="操作参数"/>
            <column name="type" type="VARCHAR(16)" remarks="日志类型" defaultValue="success" />
            <column name="result" type="CLOB" remarks="操作结果"/>
            <column name="spend" type="INT" remarks="操作时长" defaultValueNumeric="0" />
            <column name="clientId" type="VARCHAR(255)" remarks="OAuth客户端"/>
            <column name="username" type="VARCHAR(255)" remarks="操作用户">
                <constraints nullable="false"/>
            </column>
            <column name="url" type="VARCHAR(255)" remarks="操作URL">
                <constraints nullable="false"/>
            </column>
            <column name="ip" type="VARCHAR(255)" remarks="操作IP">
                <constraints nullable="false"/>
            </column>
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="log"/>
        </rollback>
    </changeSet>

    <changeSet author="batizhao" id="CreateTableFile-20200923-001">
        <createTable tableName="file" remarks="附件">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="主键">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(255)" remarks="显示名">
                <constraints nullable="false"/>
            </column>
            <column name="fileName" type="VARCHAR(255)" remarks="文件名">
                <constraints nullable="false"/>
            </column>
            <column name="size" type="BIGINT" remarks="大小"/>
            <column name="url" type="VARCHAR(255)" remarks="url"/>
            <column name="thumbUrl" type="VARCHAR(255)" remarks="缩略图 url"/>
            <column name="createTime" type="datetime" remarks="操作时间">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="file"/>
        </rollback>
    </changeSet>

    <changeSet author="batizhao" id="CreateTableDict-20210205-001">
        <createTable tableName="dict_type" remarks="字典类型表">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="主键">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(32)" remarks="名称">
                <constraints nullable="false" unique="true" />
            </column>
            <column name="code" type="VARCHAR(32)" remarks="代码">
                <constraints nullable="false" unique="true" />
            </column>
            <column name="status" type="VARCHAR(32)" remarks="状态" defaultValue="open">
                <constraints nullable="false" />
            </column>
            <column name="description" type="VARCHAR(255)" remarks="描述" defaultValue="" />
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updateTime" type="datetime" remarks="修改时间" defaultValueComputed="NOW() ON UPDATE NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="dict_type"/>
        </rollback>
        <createTable tableName="dict_data" remarks="字典表">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="主键">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="code" type="VARCHAR(32)" remarks="代码">
                <constraints nullable="false" />
            </column>
            <column name="label" type="VARCHAR(32)" remarks="标签">
                <constraints nullable="false" />
            </column>
            <column name="value" type="VARCHAR(32)" remarks="值">
                <constraints nullable="false" />
            </column>
            <column name="isDefault" type="VARCHAR(32)" remarks="默认" defaultValue="no">
                <constraints nullable="false" />
            </column>
            <column name="sort" type="INT" defaultValue="1" remarks="排序" />
            <column name="status" type="VARCHAR(32)" remarks="状态" defaultValue="open">
                <constraints nullable="false" />
            </column>
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updateTime" type="datetime" remarks="修改时间" defaultValueComputed="NOW() ON UPDATE NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="dict_data"/>
        </rollback>

        <insert tableName="dict_type">
            <column name="id" valueNumeric="1"/>
            <column name="name" value="性别"/>
            <column name="code" value="sex"/>
            <column name="description" value="男|女"/>
        </insert>
        <insert tableName="dict_type">
            <column name="id" valueNumeric="2"/>
            <column name="name" value="状态"/>
            <column name="code" value="status"/>
            <column name="description" value="启用|禁用"/>
        </insert>
        <insert tableName="dict_type">
            <column name="id" valueNumeric="3"/>
            <column name="name" value="是否"/>
            <column name="code" value="yes_or_no"/>
            <column name="description" value="是|否"/>
        </insert>
        <insert tableName="dict_type">
            <column name="id" valueNumeric="4"/>
            <column name="name" value="成败"/>
            <column name="code" value="success_or_fail"/>
            <column name="description" value="成功|失败"/>
        </insert>
        <insert tableName="dict_data">
            <column name="id" valueNumeric="1"/>
            <column name="code" value="sex"/>
            <column name="label" value="男"/>
            <column name="value" value="male"/>
            <column name="sort" valueNumeric="1"/>
            <column name="isDefault" value="yes"/>
        </insert>
        <insert tableName="dict_data">
            <column name="id" valueNumeric="2"/>
            <column name="code" value="sex"/>
            <column name="label" value="女"/>
            <column name="value" value="female"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="dict_data">
            <column name="id" valueNumeric="3"/>
            <column name="code" value="status"/>
            <column name="label" value="启用"/>
            <column name="value" value="open"/>
            <column name="sort" valueNumeric="1"/>
            <column name="isDefault" value="yes"/>
        </insert>
        <insert tableName="dict_data">
            <column name="id" valueNumeric="4"/>
            <column name="code" value="status"/>
            <column name="label" value="禁用"/>
            <column name="value" value="close"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="dict_data">
            <column name="id" valueNumeric="5"/>
            <column name="code" value="yes_or_no"/>
            <column name="label" value="是"/>
            <column name="value" value="yes"/>
            <column name="sort" valueNumeric="1"/>
            <column name="isDefault" value="yes"/>
        </insert>
        <insert tableName="dict_data">
            <column name="id" valueNumeric="6"/>
            <column name="code" value="yes_or_no"/>
            <column name="label" value="否"/>
            <column name="value" value="no"/>
            <column name="sort" valueNumeric="2"/>
        </insert>
        <insert tableName="dict_data">
            <column name="id" valueNumeric="7"/>
            <column name="code" value="success_or_fail"/>
            <column name="label" value="成功"/>
            <column name="value" value="success"/>
            <column name="sort" valueNumeric="1"/>
            <column name="isDefault" value="yes"/>
        </insert>
        <insert tableName="dict_data">
            <column name="id" valueNumeric="8"/>
            <column name="code" value="success_or_fail"/>
            <column name="label" value="失败"/>
            <column name="value" value="failure"/>
            <column name="sort" valueNumeric="2"/>
        </insert>

        <rollback>
            delete from dict_type where code = 'sex';
            delete from dict_data where code = 'sex';
            delete from dict_type where code = 'status';
            delete from dict_data where code = 'status';
            delete from dict_type where code = 'yes_or_no';
            delete from dict_data where code = 'yes_or_no';
            delete from dict_type where code = 'success_or_fail';
            delete from dict_data where code = 'success_or_fail';
        </rollback>
    </changeSet>

    <changeSet author="batizhao" id="CreateTableCode-20210128-001">
        <createTable remarks="生成代码表" tableName="code">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="自增ID">
                <constraints primaryKey="true" nullable="false" />
            </column>
            <column name="dsName" type="VARCHAR(64)" remarks="数据源">
                <constraints nullable="false" />
            </column>
            <column name="tableName" type="VARCHAR(64)" remarks="表名">
                <constraints nullable="false" />
            </column>
            <column name="tableComment" type="VARCHAR(255)" remarks="表说明">
                <constraints nullable="false" />
            </column>
            <column name="engine" type="VARCHAR(32)" remarks="引擎">
                <constraints nullable="false" />
            </column>
            <column name="className" type="VARCHAR(64)" remarks="类名">
                <constraints nullable="false" />
            </column>
            <column name="classComment" type="VARCHAR(32)" remarks="类注释">
                <constraints nullable="false" />
            </column>
            <column name="classAuthor" type="VARCHAR(32)" remarks="作者">
                <constraints nullable="false" />
            </column>
            <column name="packageName" type="VARCHAR(255)" remarks="包名">
                <constraints nullable="false" />
            </column>
            <column name="moduleName" type="VARCHAR(32)" remarks="所属模块/微服务/系统名，英文">
                <constraints nullable="false" />
            </column>
            <column name="mappingPath" type="VARCHAR(64)" remarks="API后端路由">
                <constraints nullable="false" />
            </column>
            <column name="template" type="VARCHAR(16)" remarks="模板类型">
                <constraints nullable="false" />
            </column>
            <column name="parentMenuId" type="BIGINT" remarks="父菜单ID"/>
            <column name="form" type="VARCHAR(16)" defaultValue="meta" remarks="生成表单方式（meta元数据 visual可视化）"/>
            <column name="type" type="VARCHAR(16)" defaultValue="zip" remarks="生成代码方式（zip压缩包 path自定义路径）"/>
            <column name="path" type="VARCHAR(128)" defaultValue="/" remarks="生成路径（不填默认项目路径）"/>
            <column name="subTableId" type="BIGINT" remarks="关联子表的code.id"/>
            <column name="subTableFkName" type="VARCHAR(32)" defaultValue="" remarks="子表关联的属性名"/>
            <column name="formKey" type="varchar(64)" remarks="表单元数据" />
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updateTime" type="datetime" remarks="修改时间" defaultValueComputed="NOW() ON UPDATE NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <createTable remarks="生成代码元数据表" tableName="code_meta">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="自增ID">
                <constraints primaryKey="true" nullable="false" />
            </column>
            <column name="codeId" type="BIGINT" remarks="code表ID">
                <constraints nullable="false" />
            </column>
            <column name="columnName" type="VARCHAR(64)" remarks="列名">
                <constraints nullable="false" />
            </column>
            <column name="columnComment" type="VARCHAR(64)" remarks="列注释">
                <constraints nullable="false" />
            </column>
            <column name="columnType" type="VARCHAR(32)" remarks="列类型">
                <constraints nullable="false" />
            </column>
            <column name="javaType" type="VARCHAR(32)" remarks="Java类型">
                <constraints nullable="false" />
            </column>
            <column name="javaField" type="VARCHAR(64)" remarks="Java属性名">
                <constraints nullable="false" />
            </column>
            <column name="primaryKey" type="TINYINT(1)" remarks="是否主键" defaultValue="0">
                <constraints nullable="false" />
            </column>
            <column name="increment" type="TINYINT(1)" remarks="是否自增" defaultValue="0">
                <constraints nullable="false" />
            </column>
            <column name="required" type="TINYINT(1)" remarks="是否必须" defaultValue="0">
                <constraints nullable="false" />
            </column>
            <column name="save" type="TINYINT(1)" remarks="是否可插入" defaultValue="0">
                <constraints nullable="false" />
            </column>
            <column name="edit" type="TINYINT(1)" remarks="是否可编辑" defaultValue="0">
                <constraints nullable="false" />
            </column>
            <column name="display" type="TINYINT(1)" remarks="是否在列表显示" defaultValue="0">
                <constraints nullable="false" />
            </column>
            <column name="search" type="TINYINT(1)" remarks="是否可查询" defaultValue="0">
                <constraints nullable="false" />
            </column>
            <column name="searchType" type="VARCHAR(16)" remarks="查询方式（等于、不等于、大于、小于、范围）" defaultValue="EQ">
                <constraints nullable="false" />
            </column>
            <column name="htmlType" type="VARCHAR(16)" remarks="显示类型（文本框、文本域、下拉框、复选框、单选框、日期控件）" defaultValue="input">
                <constraints nullable="false" />
            </column>
            <column name="dictType" type="VARCHAR(32)" remarks="字典类型" defaultValue="">
                <constraints nullable="false" />
            </column>
            <column name="sort" type="INT" remarks="排序" defaultValue="1">
                <constraints nullable="false" />
            </column>
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updateTime" type="datetime" remarks="修改时间" defaultValueComputed="NOW() ON UPDATE NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>

    <changeSet author="batizhao" id="CreateTableForm-20200308-001">
        <createTable tableName="form" remarks="表单">
            <column autoIncrement="true" name="id" type="BIGINT" remarks="表单ID">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="formKey" type="VARCHAR(64)" remarks="表单key">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="name" type="VARCHAR(255)" remarks="表单名称">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="metadata" type="CLOB" remarks="表单元数据" />
            <column name="description" type="VARCHAR(255)" remarks="表单描述" defaultValue="" />
            <column name="status" type="VARCHAR(32)" remarks="状态" defaultValue="open">
                <constraints nullable="false" />
            </column>
            <column name="createTime" type="datetime" remarks="创建时间" defaultValueComputed="NOW()">
                <constraints nullable="false"/>
            </column>
            <column name="updateTime" type="datetime" remarks="修改时间" defaultValueComputed="NOW() ON UPDATE NOW()">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <rollback>
            <dropTable tableName="form"/>
        </rollback>
    </changeSet>
</databaseChangeLog>